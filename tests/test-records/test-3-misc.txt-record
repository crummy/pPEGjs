--- test-3-misc.txt case:1
S = " { " x* " } "
x = " x "
--  test-3-misc.txt case:1 input:1
{ x xx }
-
["S",[["x","x "],["x","x"],["x","x "]]]
--  test-3-misc.txt case:1 input:2
{}
-
["S",[]]
--- test-3-misc.txt case:2
S  = xy z
xy = ('x' 'y')?
z  = ~[]*
--  test-3-misc.txt case:2 input:1
xyz
-
["S",[["xy","xy"],["z","z"]]]
--  test-3-misc.txt case:2 input:2
z
-
["S",[["xy",""],["z","z"]]]
--  test-3-misc.txt case:2 input:3
xz
-
["S",[["xy",""],["z","xz"]]]
--- test-3-misc.txt case:3
date  = year '-' month '-' day
year  = [1-2] [0-9]*3
month = [0-1] [0-9]
day   = [0-3] [0-9]
--  test-3-misc.txt case:3 input:1
2021-04-05
-
["date",[["year","2021"],["month","04"],["day","05"]]]
--  test-3-misc.txt case:3 input:2
2021-04/05
-
Error: In rule: date, expected: '-', failed at line: 1.8
     1 | 2021-04/05
                ^
--- test-3-misc.txt case:4
s   = 'a' x 'b'
x   =  '' y 'z'
y   = x
--  test-3-misc.txt case:4 input:1
ayb
-
grammar error, max depth of recursion exceeded in rules:
 ... x y x y x y
--- test-3-misc.txt case:5
    s   = any* eof
    any = ~[]
    eof = !any
--  test-3-misc.txt case:5 input:1
xyz
-
["s",[["any","x"],["any","y"],["any","z"],["eof",""]]]
--- test-3-misc.txt case:6
    s = " abc"i*
--  test-3-misc.txt case:6 input:1
abc ABC aBc
-
["s","abc ABC aBc"]
--- test-3-misc.txt case:7
s = '\' [nrt]
--  test-3-misc.txt case:7 input:1
\n
-
["s","\\n"]
--- test-3-misc.txt case:8
# test comments....
date  = year '-' month '-' day
# ...
year  = [1-2] [0-9]*3
month = [0-1] [0-9] # comment..
day   = [0-3] [0-9]
# last comment
--  test-3-misc.txt case:8 input:1
2021-04-05
-
["date",[["year","2021"],["month","04"],["day","05"]]]